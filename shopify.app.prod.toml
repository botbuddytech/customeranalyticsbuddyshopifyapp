# Production App Configuration
# This config is used ONLY for production deployments
# 
# This is your LIVE app that merchants install
# NEVER run `shopify app dev` with this config - it will break production!
#
# Usage: shopify app deploy --config shopify.app.prod.toml

client_id = "d5a42a94b23c58caef6dc110e896012a"
name = "Customer Analytics Buddy"
# Production URL - NEVER changes, always points to Vercel
application_url = "https://customeranalyticsbuddyapp.vercel.app"
embedded = true

[build]
# When false, Shopify CLI NEVER updates URLs automatically
# This protects production from being overwritten by dev tunnels
automatically_update_urls_on_dev = false

[webhooks]
api_version = "2026-01"

# Mandatory compliance webhooks (required for App Store)
# These always point to production Vercel URL
[[webhooks.subscriptions]]
compliance_topics = ["customers/data_request", "customers/redact", "shop/redact"]
uri = "https://customeranalyticsbuddyapp.vercel.app/webhooks/compliance"

[access_scopes]
# Learn more at https://shopify.dev/docs/apps/tools/cli/configuration#access_scopes
scopes = "read_checkouts,read_customers,write_customers,read_orders,write_orders,write_products"

[auth]
# Production redirect URL - always points to Vercel
redirect_urls = [ "https://customeranalyticsbuddyapp.vercel.app/auth/shopify/callback" ]
